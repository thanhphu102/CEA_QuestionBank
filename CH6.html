<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>External Memory Review Quiz</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .stats {
            background: #f8f9fa;
            padding: 20px;
            text-align: center;
            border-bottom: 2px solid #e9ecef;
        }

        .stat-item {
            display: inline-block;
            margin: 0 20px;
            padding: 10px 20px;
            background: white;
            border-radius: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .content {
            padding: 30px;
        }

        .section {
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 1.8em;
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #27ae60;
        }

        .question {
            background: #f8f9fa;
            margin-bottom: 25px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
        }

        .question:hover {
            transform: translateY(-2px);
        }

        .question-header {
            background: #27ae60;
            color: white;
            padding: 15px 20px;
            font-weight: bold;
            font-size: 1.1em;
        }

        .question-content {
            padding: 20px;
        }

        .question-text {
            font-size: 1.1em;
            margin-bottom: 15px;
            font-weight: 500;
        }

        .options {
            list-style: none;
        }

        .option {
            margin-bottom: 10px;
        }

        .option label {
            display: block;
            padding: 12px 20px;
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .option label:hover {
            border-color: #27ae60;
            background: #f0fff4;
        }

        .option input[type="radio"] {
            margin-right: 10px;
        }

        .option.correct label {
            background: #d4edda;
            border-color: #28a745;
            color: #155724;
        }

        .option.incorrect label {
            background: #f8d7da;
            border-color: #dc3545;
            color: #721c24;
        }

        .explanation {
            margin-top: 15px;
            padding: 15px;
            background: #e8f5e8;
            border-left: 4px solid #27ae60;
            border-radius: 5px;
            display: none;
        }

        .explanation.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .explanation strong {
            color: #2c3e50;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #27ae60, #2ecc71);
            width: 0%;
            transition: width 0.5s ease;
        }

        .final-stats {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin-top: 30px;
            display: none;
        }

        .final-stats.show {
            display: block;
            animation: slideUp 0.5s ease;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .final-stats h2 {
            font-size: 2em;
            margin-bottom: 20px;
        }

        .final-score {
            font-size: 3em;
            font-weight: bold;
            margin: 20px 0;
        }

        .restart-btn {
            background: white;
            color: #28a745;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .restart-btn:hover {
            transform: scale(1.05);
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 10px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .content {
                padding: 20px;
            }
            
            .stat-item {
                display: block;
                margin: 10px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>💾 External Memory Review Quiz</h1>
            <p>Test your knowledge of external storage systems and technologies</p>
        </div>

        <div class="stats">
            <div class="stat-item">
                <strong>Progress:</strong> <span id="progress">0/18</span>
            </div>
            <div class="stat-item">
                <strong>Correct:</strong> <span id="correct">0</span>
            </div>
            <div class="stat-item">
                <strong>Incorrect:</strong> <span id="incorrect">0</span>
            </div>
            <div class="stat-item">
                <strong>Score:</strong> <span id="score">0%</span>
            </div>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <div class="content" id="quizContent">
            <!-- Quiz content will be generated by JavaScript -->
        </div>

        <div class="final-stats" id="finalStats">
            <h2>🎉 Quiz Complete!</h2>
            <div class="final-score" id="finalScore">0%</div>
            <p id="finalMessage">Great job completing the quiz!</p>
            <button class="restart-btn" onclick="restartQuiz()">Take Quiz Again</button>
        </div>
    </div>

    <script>
        // TODO: Replace this placeholder data with actual questions from 6.md
        const quizData = [
            {
                section: "Magnetic Disk Storage",
                questions: [
                    {
                        id: 1,
                        text: "What is the primary advantage of magnetic disk storage over other storage technologies?",
                        options: [
                            "Lowest cost per bit",
                            "Fastest access time",
                            "Most reliable storage medium",
                            "Best combination of large capacity and reasonable access time"
                        ],
                        correct: 3,
                        explanation: "Magnetic disk storage provides the best combination of large capacity and reasonable access time, making it ideal for secondary storage in computer systems."
                    },
                    {
                        id: 2,
                        text: "What determines the data transfer rate in magnetic disk systems?",
                        options: [
                            "Rotational speed only",
                            "Track density only",
                            "Both rotational speed and track density",
                            "Seek time only"
                        ],
                        correct: 2,
                        explanation: "The data transfer rate in magnetic disk systems is determined by both the rotational speed of the disk and the track density (number of bits per track)."
                    },
                    {
                        id: 3,
                        text: "Which component of disk access time typically dominates the total access time?",
                        options: [
                            "Rotational delay",
                            "Data transfer time",
                            "Seek time",
                            "Controller overhead"
                        ],
                        correct: 2,
                        explanation: "Seek time, which is the time required to position the read/write head over the desired track, typically dominates the total disk access time."
                    },
                    {
                        id: 4,
                        text: "What is the purpose of disk scheduling algorithms?",
                        options: [
                            "To increase disk capacity",
                            "To minimize average seek time",
                            "To improve data reliability",
                            "To reduce power consumption"
                        ],
                        correct: 1,
                        explanation: "Disk scheduling algorithms are designed to minimize the average seek time by optimizing the order in which disk requests are serviced."
                    },
                    {
                        id: 5,
                        text: "In a magnetic disk system, what is a cylinder?",
                        options: [
                            "A single circular track on one surface",
                            "All tracks at the same distance from the center across all surfaces",
                            "The central spindle of the disk drive",
                            "A group of sectors on the same track"
                        ],
                        correct: 1,
                        explanation: "A cylinder consists of all tracks that are at the same distance from the center of the disk across all surfaces in a multi-platter disk drive."
                    },
                    {
                        id: 6,
                        text: "What is the main advantage of Constant Linear Velocity (CLV) over Constant Angular Velocity (CAV)?",
                        options: [
                            "Faster access time",
                            "Higher storage capacity",
                            "Lower manufacturing cost",
                            "Better reliability"
                        ],
                        correct: 1,
                        explanation: "CLV allows for higher storage capacity because it maintains constant data density across all tracks, unlike CAV where outer tracks have lower density."
                    }
                ]
            },
            {
                section: "Optical Storage Systems",
                questions: [
                    {
                        id: 7,
                        text: "What technology is used to read data from a CD-ROM?",
                        options: [
                            "Magnetic field detection",
                            "Electrical conductivity measurement",
                            "Laser light reflection",
                            "Radio frequency scanning"
                        ],
                        correct: 2,
                        explanation: "CD-ROM uses laser light reflection to read data. The laser detects differences in reflectivity between pits and lands on the disc surface."
                    },
                    {
                        id: 8,
                        text: "Which optical storage format typically provides the highest storage capacity?",
                        options: [
                            "CD-ROM",
                            "DVD",
                            "Blu-ray Disc",
                            "HD-DVD"
                        ],
                        correct: 2,
                        explanation: "Blu-ray Disc typically provides the highest storage capacity among common optical storage formats, with capacities of 25GB or more per layer."
                    },
                    {
                        id: 9,
                        text: "What is the main difference between CD-R and CD-RW?",
                        options: [
                            "Storage capacity",
                            "Read speed",
                            "Write-once vs. rewritable capability",
                            "Physical size"
                        ],
                        correct: 2,
                        explanation: "CD-R (Compact Disc-Recordable) can be written to only once, while CD-RW (Compact Disc-ReWritable) can be erased and rewritten multiple times."
                    },
                    {
                        id: 10,
                        text: "What enables DVD to store more data than CD-ROM despite having the same physical dimensions?",
                        options: [
                            "Higher rotational speed",
                            "Smaller pit size and shorter wavelength laser",
                            "Multiple recording layers only",
                            "Better compression algorithms"
                        ],
                        correct: 1,
                        explanation: "DVD uses smaller pit sizes and a shorter wavelength laser (typically 650nm vs 780nm for CD), allowing for higher data density on the same physical disc size."
                    },
                    {
                        id: 11,
                        text: "What is the primary advantage of dual-layer optical discs?",
                        options: [
                            "Faster data transfer rates",
                            "Increased storage capacity",
                            "Better error correction",
                            "Lower manufacturing cost"
                        ],
                        correct: 1,
                        explanation: "Dual-layer optical discs provide increased storage capacity by having two data layers that can be read by adjusting the laser focus, effectively doubling the storage capacity."
                    }
                ]
            },
            {
                section: "Solid State Drives and RAID",
                questions: [
                    {
                        id: 12,
                        text: "What is the primary advantage of SSDs over traditional magnetic hard drives?",
                        options: [
                            "Lower cost per gigabyte",
                            "Higher storage capacity",
                            "Much faster access times and no moving parts",
                            "Better long-term data retention"
                        ],
                        correct: 2,
                        explanation: "SSDs have much faster access times due to no mechanical moving parts, and they're more resistant to physical shock and vibration compared to traditional hard drives."
                    },
                    {
                        id: 13,
                        text: "What does RAID stand for?",
                        options: [
                            "Rapid Access Independent Disks",
                            "Redundant Array of Independent Disks",
                            "Random Array of Integrated Drives",
                            "Reliable Array of Internal Devices"
                        ],
                        correct: 1,
                        explanation: "RAID stands for Redundant Array of Independent Disks, a technology that combines multiple physical disk drives into a single logical unit."
                    },
                    {
                        id: 14,
                        text: "Which RAID level provides the best fault tolerance for critical data?",
                        options: [
                            "RAID 0",
                            "RAID 1",
                            "RAID 5",
                            "RAID 6"
                        ],
                        correct: 3,
                        explanation: "RAID 6 provides the best fault tolerance as it can survive the failure of any two drives simultaneously, while RAID 1 can only survive one drive failure."
                    },
                    {
                        id: 15,
                        text: "What is the main purpose of RAID 0?",
                        options: [
                            "Data redundancy",
                            "Improved performance through striping",
                            "Error correction",
                            "Power efficiency"
                        ],
                        correct: 1,
                        explanation: "RAID 0 is designed to improve performance through data striping across multiple drives, but it provides no redundancy or fault tolerance."
                    },
                    {
                        id: 16,
                        text: "What happens to data in RAID 1 configuration?",
                        options: [
                            "Data is striped across multiple drives",
                            "Data is compressed before storage",
                            "Data is mirrored on two or more drives",
                            "Data is distributed with parity information"
                        ],
                        correct: 2,
                        explanation: "In RAID 1, data is mirrored (duplicated) on two or more drives, providing redundancy and fault tolerance."
                    },
                    {
                        id: 17,
                        text: "What is the main limitation of SSD technology?",
                        options: [
                            "Slow access times",
                            "High power consumption",
                            "Limited write/erase cycles",
                            "Large physical size"
                        ],
                        correct: 2,
                        explanation: "The main limitation of SSD technology is that flash memory cells have a limited number of write/erase cycles before they wear out, though modern SSDs have wear leveling algorithms to mitigate this."
                    },
                    {
                        id: 18,
                        text: "Which interface standard is commonly used for modern high-performance SSDs?",
                        options: [
                            "PATA",
                            "SATA",
                            "NVMe",
                            "SCSI"
                        ],
                        correct: 2,
                        explanation: "NVMe (Non-Volatile Memory Express) is the modern interface standard designed specifically for SSDs, providing much higher performance than traditional SATA interfaces."
                    }
                ]
            }
        ];

        let stats = {
            answered: 0,
            correct: 0,
            incorrect: 0,
            totalQuestions: 18
        };

        function generateQuiz() {
            const content = document.getElementById('quizContent');
            content.innerHTML = '';

            quizData.forEach(section => {
                const sectionDiv = document.createElement('div');
                sectionDiv.className = 'section';
                
                const sectionTitle = document.createElement('h2');
                sectionTitle.className = 'section-title';
                sectionTitle.textContent = section.section;
                sectionDiv.appendChild(sectionTitle);

                section.questions.forEach(question => {
                    const questionDiv = document.createElement('div');
                    questionDiv.className = 'question';
                    questionDiv.innerHTML = `
                        <div class="question-header">Question ${question.id}</div>
                        <div class="question-content">
                            <div class="question-text">${question.text}</div>
                            <ul class="options">
                                ${question.options.map((option, index) => `
                                    <li class="option" data-index="${index}">
                                        <label>
                                            <input type="radio" name="q${question.id}" value="${index}">
                                            ${String.fromCharCode(65 + index)}. ${option}
                                        </label>
                                    </li>
                                `).join('')}
                            </ul>
                            <div class="explanation">
                                <strong>Explanation:</strong> ${question.explanation}
                            </div>
                        </div>
                    `;
                    
                    sectionDiv.appendChild(questionDiv);
                });

                content.appendChild(sectionDiv);
            });

            // Add event listeners to all radio buttons
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.addEventListener('change', handleAnswer);
            });
        }

        function handleAnswer(event) {
            const questionId = parseInt(event.target.name.replace('q', ''));
            const selectedIndex = parseInt(event.target.value);
            
            // Find the question data
            let questionData = null;
            for (let section of quizData) {
                questionData = section.questions.find(q => q.id === questionId);
                if (questionData) break;
            }

            if (!questionData) return;

            // Get the question element
            const questionElement = event.target.closest('.question');
            const options = questionElement.querySelectorAll('.option');
            const explanation = questionElement.querySelector('.explanation');

            // Disable all radio buttons for this question
            questionElement.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.disabled = true;
            });

            // Mark correct and incorrect answers
            options.forEach((option, index) => {
                if (index === questionData.correct) {
                    option.classList.add('correct');
                } else if (index === selectedIndex) {
                    option.classList.add('incorrect');
                }
            });

            // Show explanation
            explanation.classList.add('show');

            // Update stats
            if (selectedIndex === questionData.correct) {
                stats.correct++;
            } else {
                stats.incorrect++;
            }
            stats.answered++;

            updateStats();
            
            // Check if quiz is complete
            if (stats.answered === stats.totalQuestions) {
                setTimeout(showFinalStats, 1000);
            }
        }

        function updateStats() {
            document.getElementById('progress').textContent = `${stats.answered}/${stats.totalQuestions}`;
            document.getElementById('correct').textContent = stats.correct;
            document.getElementById('incorrect').textContent = stats.incorrect;
            
            const percentage = stats.answered > 0 ? Math.round((stats.correct / stats.answered) * 100) : 0;
            document.getElementById('score').textContent = `${percentage}%`;
            
            const progressPercentage = (stats.answered / stats.totalQuestions) * 100;
            document.getElementById('progressFill').style.width = `${progressPercentage}%`;
        }

        function showFinalStats() {
            const finalScore = Math.round((stats.correct / stats.totalQuestions) * 100);
            document.getElementById('finalScore').textContent = `${finalScore}%`;
            
            let message = '';
            if (finalScore >= 90) {
                message = '🎉 Excellent! You have mastered external memory concepts!';
            } else if (finalScore >= 80) {
                message = '👍 Great job! You have a good understanding of storage systems!';
            } else if (finalScore >= 70) {
                message = '👌 Good work! Consider reviewing some concepts to improve further.';
            } else if (finalScore >= 60) {
                message = '📚 Keep studying! You\'re on the right track but need more practice.';
            } else {
                message = '💪 Don\'t give up! Review the material and try again.';
            }
            
            document.getElementById('finalMessage').textContent = message;
            document.getElementById('finalStats').classList.add('show');
        }

        function restartQuiz() {
            stats = {
                answered: 0,
                correct: 0,
                incorrect: 0,
                totalQuestions: 18
            };
            
            document.getElementById('finalStats').classList.remove('show');
            updateStats();
            generateQuiz();
        }

        // Initialize quiz when page loads
        document.addEventListener('DOMContentLoaded', function() {
            generateQuiz();
            updateStats();
        });
    </script>
</body>
</html>
